<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hello World</title>
    <link rel="stylesheet" type="text/css" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
</head>
<body>
    <div style="width: 100px; height: 100px; background: red;"></div>
    <input type="text">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
<script type="text/babel">
class ActionWatcher {
   constructor(onAction, afterAction, timeout) {
       this._timer = null;
       this._timeout = timeout;
       this._onAction = typeof onAction === "function" ? onAction : null;
       this._afterAction = typeof afterAction === "function" ? afterAction : null;
       this._event = null;
   }
   watch = e => {
       this._event = e;
       if (e.persist) e.persis();
       if (this._onAction) {
           this._onAction(this._event);
       }
       if (this._timer) {
           clearTimeout(this._timer);
           this._timer = null;
       }
       this._timer = setTimeout(() => {
           if (this._afterAction) {
               this._afterAction(this._event);
               this._event = null;
           }
       }, this._timeout);
   };
}
const inputWatcher = new ActionWatcher(e => console.log("inputting"), e => console.log(e.target.value), 500);
   $("input").on("input", e => inputWatcher.watch(e));


</script>
</body>
</html>