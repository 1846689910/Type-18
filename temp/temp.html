<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hello World</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
</head>
<body>
    <button>popup</button>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
    <script type="text/babel">
class MyWindow{
    static _opened = false;
    static isOpen = () => MyWindow._opened;
    static setStyle = (dom, style) => {
        if (typeof dom === "object" && dom !== null && typeof style === "object" && style !== null) {
            Object.entries(style).forEach(([k, v]) => dom.style[k] = v);
        }
    };
    static _window = (() => {
        const div = document.createElement("div");
        MyWindow.setStyle(div, {
            width: "500px",
            height: "350px",
            border: "0.5px solid rgba(0,0,0,0.2)",
            display: "flex",
            flexFlow: "column",
            position: "relative",
            borderRadius: "10px",
            padding: "3px 0 0 0"
        });
        div.innerHTML = `
            <div style="height: 20px; text-align: center;">My Window</div>
            <div style="height: 100%; margin: 10px; display: flex; background: blue">
                ... ...
            </div>
            <div style="position: absolute; display: flex; flex-direction: row; width: 70px; justify-content: space-evenly; height: 20px; line-height: 20px;">
                <i class="fa fa-circle close" aria-hidden="true" style="color: red; font-size: 14px;"></i>
                <i class="fa fa-circle" aria-hidden="true" style="color: #FFD662; font-size: 14px;"></i>
                <i class="fa fa-circle" aria-hidden="true" style="color: #79C753; font-size: 14px;"></i>
            </div>
        `;
        return div;
    })();
    static _bindEvents = () => {
        const div = MyWindow._window;
        if (MyWindow.isOpen && div) {
            console.log(`bind events`);
        }
    };
    static open = () => {
        if (! MyWindow.isOpen() && MyWindow._window) {
            document.body.appendChild(MyWindow._window);
            MyWindow._opened = true;
            MyWindow._bindEvents();
        }
    };
    static close = () => {
        if (MyWindow.isOpen() && MyWindow._window) {
            document.body.removeChild(MyWindow._window);
            MyWindow._opened = false;
        }
    };
}
        MyWindow.open();
        // setTimeout(() => MyWindow.open(), 1000);
        // setTimeout(() => MyWindow.close(), 3000);
    </script>
</body>
</html>