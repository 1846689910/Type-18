<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />

</head>
<body>
    <div id="div1" style="height: 100px; width: 100px; background: red"></div>
    <input type="text">
    <div>you input: <span id="content"></span></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/babel">

   class ActionWatcher{
       constructor(onAction, afterAction, timeout){
           this._timer = null;
           this._timeout = timeout;
           this._onAction = typeof onAction === "function" ? onAction : null;
           this._afterAction = typeof afterAction === "function" ? afterAction : null;
       }
       watch = (e) => {
           if (this._onAction) this._onAction(e);
           if (this._timer){
               clearTimeout(this._timer);
               this._timer = null;
           }
           this._timer = setTimeout(() => {
               if (this._afterAction) this._afterAction(e);
           }, this._timeout);
       };
   }

    const inputWatcher = new ActionWatcher(e => console.log("inputting"), e => $("#content").text(e.target.value), 500);
    $("input").on("input", e => inputWatcher.watch(e));
</script>
</body>
</html>